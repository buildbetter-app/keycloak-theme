import { clsx } from "keycloakify/tools/clsx";
import type { PageProps } from "keycloakify/login/pages/PageProps";
import { useGetClassName } from "keycloakify/login/lib/useGetClassName";
import type { KcContext } from "../kcContext";
import type { I18n } from "../i18n";

export default function LoginResetPassword(props: PageProps<Extract<KcContext, { pageId: "login-reset-password.ftl" }>, I18n>) {
    const { kcContext, i18n, doUseDefaultCss, Template, classes } = props;

    const { getClassName } = useGetClassName({
        doUseDefaultCss,
        classes
    });

    const { url, realm, auth } = kcContext;

    const { msg, msgStr } = i18n;

    return (
        <Template
            {...{ kcContext, i18n, doUseDefaultCss, classes }}
            displayMessage={false}
            headerNode={
                <div>                    
                    <div className="flex justify-center pb-8">
                        <svg width="60" height="28" viewBox="0 0 60 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <mask id="path-1-inside-1_486_233348" fill="white">
                                <path fillRule="evenodd" clipRule="evenodd" d="M7.43388 0H52.655C56.7259 0 60 3.2741 60 7.345V20.354C60 24.4249 56.7259 27.699 52.655 27.699H7.43388C3.36297 27.699 0 24.4249 0 20.354V7.345C0 3.2741 3.36297 0 7.43388 0ZM17.8759 17.7882L16.106 15.8411L16.1036 15.8387C15.6616 15.3972 15.2196 14.9556 14.5129 14.5141C14.9267 14.4763 15.2925 14.4546 15.6172 14.4353C16.056 14.4092 16.4197 14.3876 16.7251 14.3369L19.2912 13.7173L18.1409 10.1776L15.7515 11.3279C15.4858 11.4168 15.1319 11.5935 14.6895 11.8591C14.6401 11.8838 14.5837 11.9085 14.5186 11.937C14.3503 12.0106 14.1232 12.11 13.8044 12.3015C14.0514 11.5594 14.1454 10.8941 14.2286 10.3055C14.2347 10.2625 14.2407 10.2199 14.2467 10.1777L14.5123 7.6115H10.7953L11.1493 10.1777C11.1493 10.4894 11.237 10.933 11.3509 11.5085C11.3986 11.7497 11.4509 12.014 11.5032 12.3015C10.5302 11.6819 9.9106 11.3279 9.645 11.2395L7.34399 10.1776L6.10483 13.7173L8.7599 14.1596C9.3466 14.2898 9.8853 14.3723 10.3407 14.4421C10.5034 14.467 10.6555 14.4903 10.7953 14.5136C10.2642 14.8676 9.7335 15.3099 9.2022 15.8411L7.34401 17.7882L10.4414 20.0892L11.7689 17.7882C11.8068 17.675 11.8928 17.4975 12.0133 17.249C12.1755 16.9142 12.4003 16.4505 12.6541 15.8411C12.9466 16.6455 13.2391 17.2083 13.4319 17.5792C13.4724 17.6572 13.5085 17.7267 13.5393 17.7882L14.7785 20.0892L17.8759 17.7882ZM35.1331 17.7882L33.3632 15.8411C33.0093 15.3988 32.4777 14.9564 31.8581 14.5141C32.2579 14.4776 32.6129 14.4561 32.9231 14.4373C33.3683 14.4103 33.7212 14.3889 33.9819 14.3369L36.6369 13.7173L35.4867 10.1776L33.0972 11.3279C32.8316 11.4168 32.4776 11.5935 32.0353 11.8591C31.9858 11.8838 31.9294 11.9085 31.8643 11.937C31.696 12.0106 31.4689 12.11 31.1501 12.3015C31.1909 12.1174 31.2318 11.9382 31.2716 11.7636C31.404 11.1827 31.5245 10.6541 31.5924 10.1777L31.858 7.6115H28.141L28.495 10.1777C28.495 10.4894 28.5827 10.933 28.6966 11.5085C28.7443 11.7497 28.7966 12.014 28.8489 12.3015C27.8759 11.6819 27.2563 11.3279 26.9907 11.2395L24.6897 10.1776L23.4506 13.7173L26.1056 14.1596C26.6923 14.2898 27.231 14.3723 27.6864 14.4421C27.8491 14.467 28.0012 14.4903 28.141 14.5136C27.6099 14.8676 27.0792 15.3099 26.548 15.8411L24.6897 17.7882L27.7871 20.0892L29.1147 17.7882C29.1525 17.675 29.2386 17.4975 29.359 17.249C29.5213 16.9142 29.746 16.4505 29.9999 15.8411C30.3538 16.8147 30.6194 17.4343 30.885 17.7882L32.1242 20.0892L35.1331 17.7882ZM45.9713 14.1422C45.8347 14.5131 45.8005 14.962 45.8689 15.4891H49.763C49.763 15.206 49.8314 14.9669 49.968 14.7717C50.1046 14.5668 50.2803 14.4057 50.495 14.2886C50.7097 14.1617 50.944 14.0446 51.1977 13.9372C51.4613 13.8201 51.7199 13.6933 51.9737 13.5566C52.2274 13.4102 52.4616 13.2443 52.6764 13.0589C52.8911 12.8637 53.0619 12.6001 53.1888 12.2683C53.3254 11.9267 53.3937 11.5314 53.3937 11.0825C53.3937 9.843 52.8862 8.9207 51.8712 8.3156C50.8659 7.7104 49.48 7.4079 47.7135 7.4079C45.8591 7.4079 44.4439 7.808 43.4679 8.6084C42.5017 9.4087 42.0527 10.614 42.1211 12.2244H45.781C45.781 11.1606 46.4349 10.6287 47.7427 10.6287C48.221 10.6287 48.6114 10.7165 48.9139 10.8922C49.2165 11.0581 49.3678 11.2777 49.3678 11.551C49.3678 11.7852 49.2702 11.9804 49.075 12.1366C48.8798 12.2927 48.6407 12.4147 48.3576 12.5025C48.0746 12.5806 47.772 12.6929 47.45 12.8393C47.1279 12.9759 46.8351 13.1369 46.5716 13.3224C46.308 13.4981 46.108 13.7713 45.9713 14.1422ZM47.8013 20.2616C48.3479 20.2616 48.8212 20.0665 49.2214 19.6761C49.6215 19.2759 49.8216 18.8074 49.8216 18.2706C49.8216 17.7338 49.6215 17.2702 49.2214 16.8799C48.8212 16.4797 48.3479 16.2796 47.8013 16.2796C47.2548 16.2796 46.7814 16.4797 46.3812 16.8799C45.9811 17.2702 45.781 17.7338 45.781 18.2706C45.781 18.8074 45.9811 19.2759 46.3812 19.6761C46.7814 20.0665 47.2548 20.2616 47.8013 20.2616Z"/>
                            </mask>
                            <path fillRule="evenodd" clipRule="evenodd" d="M7.43388 0H52.655C56.7259 0 60 3.2741 60 7.345V20.354C60 24.4249 56.7259 27.699 52.655 27.699H7.43388C3.36297 27.699 0 24.4249 0 20.354V7.345C0 3.2741 3.36297 0 7.43388 0ZM17.8759 17.7882L16.106 15.8411L16.1036 15.8387C15.6616 15.3972 15.2196 14.9556 14.5129 14.5141C14.9267 14.4763 15.2925 14.4546 15.6172 14.4353C16.056 14.4092 16.4197 14.3876 16.7251 14.3369L19.2912 13.7173L18.1409 10.1776L15.7515 11.3279C15.4858 11.4168 15.1319 11.5935 14.6895 11.8591C14.6401 11.8838 14.5837 11.9085 14.5186 11.937C14.3503 12.0106 14.1232 12.11 13.8044 12.3015C14.0514 11.5594 14.1454 10.8941 14.2286 10.3055C14.2347 10.2625 14.2407 10.2199 14.2467 10.1777L14.5123 7.6115H10.7953L11.1493 10.1777C11.1493 10.4894 11.237 10.933 11.3509 11.5085C11.3986 11.7497 11.4509 12.014 11.5032 12.3015C10.5302 11.6819 9.9106 11.3279 9.645 11.2395L7.34399 10.1776L6.10483 13.7173L8.7599 14.1596C9.3466 14.2898 9.8853 14.3723 10.3407 14.4421C10.5034 14.467 10.6555 14.4903 10.7953 14.5136C10.2642 14.8676 9.7335 15.3099 9.2022 15.8411L7.34401 17.7882L10.4414 20.0892L11.7689 17.7882C11.8068 17.675 11.8928 17.4975 12.0133 17.249C12.1755 16.9142 12.4003 16.4505 12.6541 15.8411C12.9466 16.6455 13.2391 17.2083 13.4319 17.5792C13.4724 17.6572 13.5085 17.7267 13.5393 17.7882L14.7785 20.0892L17.8759 17.7882ZM35.1331 17.7882L33.3632 15.8411C33.0093 15.3988 32.4777 14.9564 31.8581 14.5141C32.2579 14.4776 32.6129 14.4561 32.9231 14.4373C33.3683 14.4103 33.7212 14.3889 33.9819 14.3369L36.6369 13.7173L35.4867 10.1776L33.0972 11.3279C32.8316 11.4168 32.4776 11.5935 32.0353 11.8591C31.9858 11.8838 31.9294 11.9085 31.8643 11.937C31.696 12.0106 31.4689 12.11 31.1501 12.3015C31.1909 12.1174 31.2318 11.9382 31.2716 11.7636C31.404 11.1827 31.5245 10.6541 31.5924 10.1777L31.858 7.6115H28.141L28.495 10.1777C28.495 10.4894 28.5827 10.933 28.6966 11.5085C28.7443 11.7497 28.7966 12.014 28.8489 12.3015C27.8759 11.6819 27.2563 11.3279 26.9907 11.2395L24.6897 10.1776L23.4506 13.7173L26.1056 14.1596C26.6923 14.2898 27.231 14.3723 27.6864 14.4421C27.8491 14.467 28.0012 14.4903 28.141 14.5136C27.6099 14.8676 27.0792 15.3099 26.548 15.8411L24.6897 17.7882L27.7871 20.0892L29.1147 17.7882C29.1525 17.675 29.2386 17.4975 29.359 17.249C29.5213 16.9142 29.746 16.4505 29.9999 15.8411C30.3538 16.8147 30.6194 17.4343 30.885 17.7882L32.1242 20.0892L35.1331 17.7882ZM45.9713 14.1422C45.8347 14.5131 45.8005 14.962 45.8689 15.4891H49.763C49.763 15.206 49.8314 14.9669 49.968 14.7717C50.1046 14.5668 50.2803 14.4057 50.495 14.2886C50.7097 14.1617 50.944 14.0446 51.1977 13.9372C51.4613 13.8201 51.7199 13.6933 51.9737 13.5566C52.2274 13.4102 52.4616 13.2443 52.6764 13.0589C52.8911 12.8637 53.0619 12.6001 53.1888 12.2683C53.3254 11.9267 53.3937 11.5314 53.3937 11.0825C53.3937 9.843 52.8862 8.9207 51.8712 8.3156C50.8659 7.7104 49.48 7.4079 47.7135 7.4079C45.8591 7.4079 44.4439 7.808 43.4679 8.6084C42.5017 9.4087 42.0527 10.614 42.1211 12.2244H45.781C45.781 11.1606 46.4349 10.6287 47.7427 10.6287C48.221 10.6287 48.6114 10.7165 48.9139 10.8922C49.2165 11.0581 49.3678 11.2777 49.3678 11.551C49.3678 11.7852 49.2702 11.9804 49.075 12.1366C48.8798 12.2927 48.6407 12.4147 48.3576 12.5025C48.0746 12.5806 47.772 12.6929 47.45 12.8393C47.1279 12.9759 46.8351 13.1369 46.5716 13.3224C46.308 13.4981 46.108 13.7713 45.9713 14.1422ZM47.8013 20.2616C48.3479 20.2616 48.8212 20.0665 49.2214 19.6761C49.6215 19.2759 49.8216 18.8074 49.8216 18.2706C49.8216 17.7338 49.6215 17.2702 49.2214 16.8799C48.8212 16.4797 48.3479 16.2796 47.8013 16.2796C47.2548 16.2796 46.7814 16.4797 46.3812 16.8799C45.9811 17.2702 45.781 17.7338 45.781 18.2706C45.781 18.8074 45.9811 19.2759 46.3812 19.6761C46.7814 20.0665 47.2548 20.2616 47.8013 20.2616Z" fill="url(#paint0_linear_486_233348)" stroke="url(#paint1_linear_486_233348)" mask="url(#path-1-inside-1_486_233348)"/>
                            <defs>
                                <linearGradient id="paint0_linear_486_233348" x1="1.5" y1="-6.99999" x2="90.5" y2="55.5" gradientUnits="userSpaceOnUse">
                                    <stop stop-color="white" stop-opacity="0.32"/>
                                    <stop offset="1" stop-color="white" stop-opacity="0"/>
                                </linearGradient>
                                <linearGradient id="paint1_linear_486_233348" x1="-6" y1="1.22157e-06" x2="64" y2="30" gradientUnits="userSpaceOnUse">
                                    <stop stop-color="white" stop-opacity="0.12"/>
                                    <stop offset="1" stop-color="white" stop-opacity="0"/>
                                </linearGradient>
                            </defs>
                        </svg>
                    </div>
                    <h1>Forgot Password</h1>
                    <p className="text-center">It happens to the best of us. Give us your email and we'll send you a reset link.</p>
                </div>
            }
            infoNode={msg("emailInstruction")}
        >
            <form id="kc-reset-password-form" className={getClassName("kcFormClass")} action={url.loginAction} method="post">
                <div className={getClassName("kcFormGroupClass")}>
                    <div className={getClassName("kcInputWrapperClass")}>
                        <input
                            type="text"
                            id="username"
                            name="username"
                            className={getClassName("kcInputClass")}
                            autoFocus
                            defaultValue={auth !== undefined && auth.showUsername ? auth.attemptedUsername : undefined}
                            placeholder="Email Address"
                        />
                    </div>
                </div>
                <div className={clsx(getClassName("kcFormGroupClass"), getClassName("kcFormSettingClass"))}>
                    

                    <div id="kc-form-buttons" className={getClassName("kcFormButtonsClass")}>
                        <input
                            className={clsx(
                                getClassName("kcButtonClass"),
                                getClassName("kcButtonPrimaryClass"),
                                getClassName("kcButtonBlockClass"),
                                getClassName("kcButtonLargeClass")
                            )}
                            type="submit"
                            value="Request Password Reset"
                        />
                    </div>
                    <div id="kc-form-options" className={getClassName("kcFormOptionsClass")} >
                        <div className={getClassName("kcFormOptionsWrapperClass")}>
                            <span>
                                <a href={url.loginUrl}>
                                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path fillRule="evenodd" clipRule="evenodd" d="M2.94531 6.57031C2.94531 6.1561 2.60953 5.82031 2.19531 5.82031C1.7811 5.82031 1.44531 6.1561 1.44531 6.57031V11.5703C1.44531 11.6579 1.46033 11.742 1.48792 11.8201C1.52402 11.9226 1.58304 12.0188 1.66498 12.1007C1.81442 12.2502 2.01124 12.3234 2.20708 12.3203H7.19531C7.60953 12.3203 7.94531 11.9845 7.94531 11.5703C7.94531 11.1561 7.60953 10.8203 7.19531 10.8203H4.00606L5.22578 9.6006C6.1698 8.65609 7.37275 8.01281 8.68245 7.75215C9.99215 7.4915 11.3497 7.62517 12.5834 8.13627C13.8172 8.64737 14.8715 9.51292 15.6132 10.6234C16.3549 11.7339 16.7505 13.0394 16.75 14.3748C16.7498 14.789 17.0855 15.1249 17.4997 15.1251C17.9139 15.1252 18.2498 14.7896 18.25 14.3754C18.2506 12.7432 17.7671 11.1476 16.8606 9.79032C15.9541 8.43305 14.6654 7.37516 13.1575 6.75048C11.6497 6.12581 9.99041 5.96243 8.38967 6.28101C6.78898 6.59957 5.31862 7.38589 4.16484 8.54021L2.94531 9.75974V6.57031Z" />
                                    </svg>
                                     back to <span className="text-white">Log in</span>
                                </a>
                            </span>
                        </div>
                    </div>
                </div>
            </form>
        </Template>
    );
}
